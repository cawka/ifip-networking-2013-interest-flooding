\section{Evaluation of Interest flooding mitigation methods}
\label{sec:evaluation}

% List all possible parameters, say clearly which ones we vary, and which ones we do not, along with explanations.

% Metrics that we will consider in our evaluation (Satisfaction rate for good clients, Link utilization near producers, 

% alex: what's a point of latency?  it would matter only for queueing method and we not really pushing this method
% Latency for good clients, good versus bad interests as a function of time

In this section, we present an in-depth evaluation study, aiming to quantify the effectiveness of all our Interest flooding attack mitigation methods.
We use the open-source ndnSIM~\cite{ndnsim} package, which implements NDN protocol stack for NS-3 network simulator\footnote{\url{http://www.nsnam.org/}}, to run simulations for a variety of network topologies and scenarios. We implement our three mitigation algorithms---token bucket with per interface fairness, satisfaction-based Interest acceptance, or satisfaction-based pushback---in ndnSIM. For evaluating the effectiveness of each mitigation algorithm, every router in the simulated topology runs the mitigation algorithm under study.

% why we chose small scale topology
% what point we wanted to show we small scale
% what points we wanted to verify with larger-scale internet like topology

% Metrics
% not sure if i already explained that. our essential qualitative metric is .  
% To quantify the effectiveness of the mitigation mechanism this  metric we use satisfaction percentages of user Interests.

The metric we choose to quantify the effectiveness of our defense strategies is the {\it percentage of satisfied Interests for legitimate users}. This metric corresponds to the quality of service experienced by legitimate users when the network is under attack. In other words, if the network implements a mitigation method $X$ and a high percentage of user-expressed Interests are satisfied even while the network is under attack, then one can conlcude that method $X$ is highly effective at mitigating the attack. We also ensure that all Interests expressed by legitimate users during a period of no-attack are satisfied.
 
%Quality of the attack mitigation methods directly corresponds to the quality of service for the legitimate users during an ongoing attack, which in NDN network can be quantified through percentage of satisfied Interest.
%For example, if the network implements a mitigation method $X$ and under the attack majority of user-expressed Interests are getting satisfied, then the method $X$ can be seen as highly effective.
%At the same time, if only a small percentage of the expressed Interest are getting satisfied during the attack, the method $X$ can be called ineffective. 

% Traffic pattern
In our experiments, we assume that legitimate users express Interests at constant average rates with randomized time gap between two consecutive Interests, where the random number for the gap follows a uniform distribution. We believe that this traffic pattern provides a reasonable approximation of traffic mix from all network users without excessive buffering. To quantify the behavior of our mitigation strategies under a worse case attack scenario, we ensure that all the attackers send junk Interests as fast as they can. 
%(remember, that Interest limits will not allow real flooding of Intersests in all of the designed mitigation algorithms).

% Alex: not sure how to argue about the traffic pattern
%Although this pattern may seem not truly realistic, it approximates a good statistical mix of traffic from all network users without excessive network buffering.

%In addition to that, in each run of the simulation we ensure that all Interests expressed by the legitimate users during a no-attack period are satisfied.
%For simplicity, we also equalized the average rates with which the legitimate users express Interests.
%At the same time, the attackers are sending junk Interests as much as they can get through (remember, that Interest limits will not allow real f%looding of Intersests in all of the designed mitigation algorithms).

We ran our simulations on two different network topologies---a smaller binary tree topology and a much larger ISP topology. We use a binary tree topology as it represents one of the worst cases to defend against Interest flooding DDoS attacks. The larger ISP topology reflects how our mitigation methods would perform when deployed on the real Internet.
Again, to study the performance of our mitigation strategies under a range of conditions, we also varied the percentage of attackers in the network - the values ranged from 6\% attackers to over 50\% attackers in the network.

% Fixed parameters
We set the \emph{delay} and \emph{data size} parameters for the Interest limit calculation to a fixed value for every node in the simulated topology. In particular, for the small-scale binary tree topology, we set delay to 80~ms, while for the large-scale ISP topology we set it to 330~ms (the order of the largest RTT). The data size is 1100~bytes for all simulation runs and topologies.


\input{eval-small-scale}
\input{eval-large-scale}

% \input{simulation-emulation.tex}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "paper"
%%% End: 
